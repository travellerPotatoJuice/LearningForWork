# 冷热分离

冷热分离，在数据处理和存储的语境中，是一种将常用数据（热数据）和非常用数据（冷数据）分开存放到不同表或库中的技术和管理策略。这种分离的目的是避免单表或单一存储系统数据量过大，从而优化数据查询效率，提高系统性能。



## 如何判断数据是冷还是热

+ 时间维度：比如三个月前的是冷数据，三个月之后的是热数据
+ 状态维度：比如已完结的订单是冷数据，未完结的是热数据
+ 组合字段：比如组合时间和状态维度

如果一个数据被标识为冷数据，业务代码不会再对其进行写操作。

不会同时存在读冷热数据的需求。



## 冷热分离实现思路

+ 直接修改业务代码：每次进行操作时判断是冷数据还是热数据，不同数据指向不同库
+ 监听数据库变更日志
+ 定时扫描数据库



# 查询分离

查询分离的核心思想是将更新的数据放在主数据库里，而查询的数据则放在另外一个专门针对搜索的存储系统里。每次向主数据库写入数据时，同时也会将数据复制到这个专门的查询存储系统中。当用户需要查询数据时，直接从查询存储系统中获取，而不是从主数据库中查询，从而减少了主数据库的查询压力，提高了查询速度。



## 如何触发查询分离

